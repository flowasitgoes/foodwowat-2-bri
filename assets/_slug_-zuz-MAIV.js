import{c as ge,w as Le}from"./compiler-runtime-pJ4boU9M.js";import{l as s,r as y,B as $e,C as Te}from"./chunk-K6CSEXPM-Dckekn08.js";import{a as se,R as ee,d as De,b as Fe}from"./transitions-DfZZ6MBU.js";import{c as W,f as U}from"./cn-G-5VTgOO.js";import{b as Ge,a as ve,i as Be,u as ze,k as fe,d as J,C as we,g as xe,L as qe}from"./use-images-loaded-DIB93l6p.js";import{u as he,S as be,g as _,p as Q,m as He,s as Ve}from"./index-a7M-pCPy.js";import{N as Ue}from"./NumberFlow-client-CHWbu7lx-Dmfd0jdA.js";import{m as Xe,g as Ye}from"./meta-CIpOic0s.js";import{g as Ke}from"./favicons-BiTdJF6Y.js";import"./index-BH45Npq1.js";import"./links-DaF3D5h7.js";const ye=n=>s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:14,height:14,viewBox:"0 0 14 14",fill:"none",...n,children:s.jsx("path",{stroke:"currentColor",d:"M13 7H1m0 0 6 6M1 7l6-6"})}),Je=n=>s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 14 14",fill:"none",...n,children:s.jsx("path",{stroke:"currentColor",d:"m1 1 12 12M1 13 13 1"})});var Ne=function(){if(typeof Map<"u")return Map;function n(t,e){var r=-1;return t.some(function(i,o){return i[0]===e?(r=o,!0):!1}),r}return function(){function t(){this.__entries__=[]}return Object.defineProperty(t.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),t.prototype.get=function(e){var r=n(this.__entries__,e),i=this.__entries__[r];return i&&i[1]},t.prototype.set=function(e,r){var i=n(this.__entries__,e);~i?this.__entries__[i][1]=r:this.__entries__.push([e,r])},t.prototype.delete=function(e){var r=this.__entries__,i=n(r,e);~i&&r.splice(i,1)},t.prototype.has=function(e){return!!~n(this.__entries__,e)},t.prototype.clear=function(){this.__entries__.splice(0)},t.prototype.forEach=function(e,r){r===void 0&&(r=null);for(var i=0,o=this.__entries__;i<o.length;i++){var c=o[i];e.call(r,c[1],c[0])}},t}()}(),me=typeof window<"u"&&typeof document<"u"&&window.document===document,oe=function(){return typeof global<"u"&&global.Math===Math?global:typeof self<"u"&&self.Math===Math?self:typeof window<"u"&&window.Math===Math?window:Function("return this")()}(),Qe=function(){return typeof requestAnimationFrame=="function"?requestAnimationFrame.bind(oe):function(n){return setTimeout(function(){return n(Date.now())},1e3/60)}}(),Ze=2;function et(n,t){var e=!1,r=!1,i=0;function o(){e&&(e=!1,n()),r&&a()}function c(){Qe(o)}function a(){var h=Date.now();if(e){if(h-i<Ze)return;r=!0}else e=!0,r=!1,setTimeout(c,t);i=h}return a}var tt=20,nt=["top","right","bottom","left","width","height","size","weight"],rt=typeof MutationObserver<"u",it=function(){function n(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=et(this.refresh.bind(this),tt)}return n.prototype.addObserver=function(t){~this.observers_.indexOf(t)||this.observers_.push(t),this.connected_||this.connect_()},n.prototype.removeObserver=function(t){var e=this.observers_,r=e.indexOf(t);~r&&e.splice(r,1),!e.length&&this.connected_&&this.disconnect_()},n.prototype.refresh=function(){var t=this.updateObservers_();t&&this.refresh()},n.prototype.updateObservers_=function(){var t=this.observers_.filter(function(e){return e.gatherActive(),e.hasActive()});return t.forEach(function(e){return e.broadcastActive()}),t.length>0},n.prototype.connect_=function(){!me||this.connected_||(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),rt?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},n.prototype.disconnect_=function(){!me||!this.connected_||(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},n.prototype.onTransitionEnd_=function(t){var e=t.propertyName,r=e===void 0?"":e,i=nt.some(function(o){return!!~r.indexOf(o)});i&&this.refresh()},n.getInstance=function(){return this.instance_||(this.instance_=new n),this.instance_},n.instance_=null,n}(),Ie=function(n,t){for(var e=0,r=Object.keys(t);e<r.length;e++){var i=r[e];Object.defineProperty(n,i,{value:t[i],enumerable:!1,writable:!1,configurable:!0})}return n},Z=function(n){var t=n&&n.ownerDocument&&n.ownerDocument.defaultView;return t||oe},Ce=le(0,0,0,0);function ae(n){return parseFloat(n)||0}function _e(n){for(var t=[],e=1;e<arguments.length;e++)t[e-1]=arguments[e];return t.reduce(function(r,i){var o=n["border-"+i+"-width"];return r+ae(o)},0)}function st(n){for(var t=["top","right","bottom","left"],e={},r=0,i=t;r<i.length;r++){var o=i[r],c=n["padding-"+o];e[o]=ae(c)}return e}function ot(n){var t=n.getBBox();return le(0,0,t.width,t.height)}function at(n){var t=n.clientWidth,e=n.clientHeight;if(!t&&!e)return Ce;var r=Z(n).getComputedStyle(n),i=st(r),o=i.left+i.right,c=i.top+i.bottom,a=ae(r.width),h=ae(r.height);if(r.boxSizing==="border-box"&&(Math.round(a+o)!==t&&(a-=_e(r,"left","right")+o),Math.round(h+c)!==e&&(h-=_e(r,"top","bottom")+c)),!ct(n)){var d=Math.round(a+o)-t,v=Math.round(h+c)-e;Math.abs(d)!==1&&(a-=d),Math.abs(v)!==1&&(h-=v)}return le(i.left,i.top,a,h)}var lt=function(){return typeof SVGGraphicsElement<"u"?function(n){return n instanceof Z(n).SVGGraphicsElement}:function(n){return n instanceof Z(n).SVGElement&&typeof n.getBBox=="function"}}();function ct(n){return n===Z(n).document.documentElement}function dt(n){return me?lt(n)?ot(n):at(n):Ce}function ut(n){var t=n.x,e=n.y,r=n.width,i=n.height,o=typeof DOMRectReadOnly<"u"?DOMRectReadOnly:Object,c=Object.create(o.prototype);return Ie(c,{x:t,y:e,width:r,height:i,top:e,right:t+r,bottom:i+e,left:t}),c}function le(n,t,e,r){return{x:n,y:t,width:e,height:r}}var ft=function(){function n(t){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=le(0,0,0,0),this.target=t}return n.prototype.isActive=function(){var t=dt(this.target);return this.contentRect_=t,t.width!==this.broadcastWidth||t.height!==this.broadcastHeight},n.prototype.broadcastRect=function(){var t=this.contentRect_;return this.broadcastWidth=t.width,this.broadcastHeight=t.height,t},n}(),ht=function(){function n(t,e){var r=ut(e);Ie(this,{target:t,contentRect:r})}return n}(),mt=function(){function n(t,e,r){if(this.activeObservations_=[],this.observations_=new Ne,typeof t!="function")throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=t,this.controller_=e,this.callbackCtx_=r}return n.prototype.observe=function(t){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(t instanceof Z(t).Element))throw new TypeError('parameter 1 is not of type "Element".');var e=this.observations_;e.has(t)||(e.set(t,new ft(t)),this.controller_.addObserver(this),this.controller_.refresh())}},n.prototype.unobserve=function(t){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(t instanceof Z(t).Element))throw new TypeError('parameter 1 is not of type "Element".');var e=this.observations_;e.has(t)&&(e.delete(t),e.size||this.controller_.removeObserver(this))}},n.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},n.prototype.gatherActive=function(){var t=this;this.clearActive(),this.observations_.forEach(function(e){e.isActive()&&t.activeObservations_.push(e)})},n.prototype.broadcastActive=function(){if(this.hasActive()){var t=this.callbackCtx_,e=this.activeObservations_.map(function(r){return new ht(r.target,r.broadcastRect())});this.callback_.call(t,e,t),this.clearActive()}},n.prototype.clearActive=function(){this.activeObservations_.splice(0)},n.prototype.hasActive=function(){return this.activeObservations_.length>0},n}(),Me=typeof WeakMap<"u"?new WeakMap:new Ne,Se=function(){function n(t){if(!(this instanceof n))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var e=it.getInstance(),r=new mt(t,e,this);Me.set(this,r)}return n}();["observe","unobserve","disconnect"].forEach(function(n){Se.prototype[n]=function(){var t;return(t=Me.get(this))[n].apply(t,arguments)}});var pt=function(){return typeof oe.ResizeObserver<"u"?oe.ResizeObserver:Se}();function gt(n){const[t,e]=y.useState({x:0,y:0,width:0,height:0,top:0,right:0,bottom:0,left:0});return y.useLayoutEffect(()=>{if(n.current===null)return;let r=null;const i=([c])=>{r=window.requestAnimationFrame(()=>{e(c.contentRect)})},o=new pt(i);return o.observe(n.current),()=>{window.cancelAnimationFrame(r),o.disconnect()}},[]),t}var vt=n=>({debug:t=!1,style:e,...r})=>s.jsx("div",{...r,style:{background:t?"rgba(255, 0, 0, 0.25)":void 0,...e},ref:n}),wt=n=>{const t=y.useRef(null),e=gt(t),r=n.width/n.height,i=e.width/e.height;let o,c;return r>i?(o=e.width,c=e.width/n.width*n.height):(c=e.height,o=e.height/n.height*n.width),[y.useMemo(()=>vt(t),[]),{width:o,height:c}]},xt=Ge,bt=function(){return xt.Date.now()},yt=bt,_t=/\s/;function kt(n){for(var t=n.length;t--&&_t.test(n.charAt(t)););return t}var Et=kt,Rt=Et,jt=/^\s+/;function Ot(n){return n&&n.slice(0,Rt(n)+1).replace(jt,"")}var Tt=Ot,Nt=Tt,ke=ve,It=Be,Ee=NaN,Ct=/^[-+]0x[0-9a-f]+$/i,Mt=/^0b[01]+$/i,St=/^0o[0-7]+$/i,At=parseInt;function Pt(n){if(typeof n=="number")return n;if(It(n))return Ee;if(ke(n)){var t=typeof n.valueOf=="function"?n.valueOf():n;n=ke(t)?t+"":t}if(typeof n!="string")return n===0?n:+n;n=Nt(n);var e=Mt.test(n);return e||St.test(n)?At(n.slice(2),e?2:8):Ct.test(n)?Ee:+n}var Wt=Pt,Lt=ve,ue=yt,Re=Wt,$t="Expected a function",Dt=Math.max,Ft=Math.min;function Gt(n,t,e){var r,i,o,c,a,h,d=0,v=!1,u=!1,p=!0;if(typeof n!="function")throw new TypeError($t);t=Re(t)||0,Lt(e)&&(v=!!e.leading,u="maxWait"in e,o=u?Dt(Re(e.maxWait)||0,t):o,p="trailing"in e?!!e.trailing:p);function w(l){var O=r,x=i;return r=i=void 0,d=l,c=n.apply(x,O),c}function M(l){return d=l,a=setTimeout(j,t),v?w(l):c}function L(l){var O=l-h,x=l-d,z=t-O;return u?Ft(z,o-x):z}function R(l){var O=l-h,x=l-d;return h===void 0||O>=t||O<0||u&&x>=o}function j(){var l=ue();if(R(l))return S(l);a=setTimeout(j,L(l))}function S(l){return a=void 0,p&&r?w(l):(r=i=void 0,c)}function $(){a!==void 0&&clearTimeout(a),d=0,r=h=i=a=void 0}function I(){return a===void 0?c:S(ue())}function k(){var l=ue(),O=R(l);if(r=arguments,i=this,h=l,O){if(a===void 0)return M(h);if(u)return clearTimeout(a),a=setTimeout(j,t),w(h)}return a===void 0&&(a=setTimeout(j,t)),c}return k.cancel=$,k.flush=I,k}var Bt=Gt,zt=Bt,qt=ve,Ht="Expected a function";function Vt(n,t,e){var r=!0,i=!0;if(typeof n!="function")throw new TypeError(Ht);return qt(e)&&(r="leading"in e?!!e.leading:r,i="trailing"in e?!!e.trailing:i),zt(n,t,{leading:r,maxWait:t,trailing:i})}var Ut=Vt;const Xt=$e(Ut),mn=()=>Ke("default"),pn=({matches:n,params:t})=>{const e=t.slug,r=n.find(a=>a.id==="root"),i=n.flatMap(a=>a.meta??[]),o=r==null?void 0:r.data,c=o==null?void 0:o.work.find(a=>a._slug===e);return Xe(i,Ye({title:`AB | ${c==null?void 0:c._title}`,description:c==null?void 0:c.category.join(", ")}))},X=100.1,gn=Le(function({params:t}){const e=se(m=>m.workGridMode),r=Te(),i=y.useRef(!1),o=se(m=>m.idle),{isIdle:c}=ee.useTransitionState(),a=y.useRef(null),h=y.useRef(null),d=Fe("root"),{idx:v,work:u,nextWork:p,previousWork:w}=y.useMemo(()=>{if(!d)return{idx:0,work:null,nextWork:null,previousWork:null};const m=d==null?void 0:d.work.findIndex(g=>g._slug===t.slug);return{idx:m,work:d.work[m],nextWork:d.work[(m+1)%d.work.length],previousWork:d.work[(m-1+d.work.length)%d.work.length]}},[d,t.slug]);if(!u)throw new Response("Not Found",{status:404});const[M,L]=y.useState(0),R=M===u.images.items.length-1,j=M===0,S=e==="all"||!R,$=e==="all"||!j,I=y.useRef(null),k=y.useCallback((m=!1)=>{var g;j&&m?(i.current=!0,r(`/work/${w==null?void 0:w._slug}`)):(g=I.current)==null||g.previous()},[j,r,w]),l=y.useCallback((m=!1)=>{var g;R&&m?(i.current=!0,r(`/work/${p==null?void 0:p._slug}`)):(g=I.current)==null||g.next()},[R,r,p]),O=y.useRef(l),x=y.useRef(k);y.useEffect(()=>{O.current=l,x.current=k},[l,k]);const z=u.images.items.length>1;return y.useEffect(()=>{if(!c)return;let m=0,g=0;const G=C=>{!i.current&&e==="all"&&(C.key==="ArrowUp"?w&&(i.current=!0,r(`/work/${w._slug}`)):C.key==="ArrowDown"&&p&&(i.current=!0,r(`/work/${p._slug}`))),z&&(C.key==="ArrowLeft"?x.current():C.key==="ArrowRight"&&O.current())},B=Xt(C=>{var T,D;if(Math.abs(C.deltaX)<Math.abs(C.deltaY)){if(e!="all")return;m+=C.deltaY,m>100?(i.current=!0,m=0,r(`/work/${p._slug}`)):m<-100&&(i.current=!0,m=0,r(`/work/${w._slug}`))}else g+=C.deltaX,g>100?(g=0,(T=I.current)==null||T.next()):g<-100&&(g=0,(D=I.current)==null||D.previous())},50);return window.addEventListener("wheel",B,{passive:!0}),window.addEventListener("keydown",G,{passive:!0}),()=>{window.removeEventListener("keydown",G),window.removeEventListener("wheel",B)}},[z,r,p,w,e,c]),he(()=>{const m=new be("#work-description > p",{type:"lines",linesClass:"overflow-hidden"}),g=new be([...m.lines],{type:"lines",linesClass:"line-inner"});a.current=g},{dependencies:[]}),ee.useEntrance((m,g,G)=>{var F;if(!d)return Promise.resolve();_.set(m,{opacity:1});const B=g==null?void 0:g.split("/").pop(),T=d.work.findIndex(P=>P._slug===B)>v?"down":"up",D=m.querySelectorAll('[data-rich-text="cta_component"]'),A=_.timeline().add(_.effects.clipIn("#work-title",{direction:T}),0).add(_.effects.clipIn("#work-media-index",{direction:T}),0).add(_.effects.clipIn("#work-category",{direction:T}),0).add(_.effects.clipIn("#work-year",{direction:T}),0).add(_.effects.clipIn([(F=a.current)==null?void 0:F.lines],{direction:T,parentOverflowHidden:!1}),0);if(D.length>0&&D.forEach(P=>{A.add(_.effects.clipIn(P,{direction:T}),.3)}),fe(g,G))return _.set(h.current,{opacity:1}),Q(A);const H=_.timeline().to(h.current,{opacity:1,duration:1}).add(A,.75);return J(H,"work-intro-opacity"),Q(H)},{tag:"work-intro"}),ee.useExit((m,g,G)=>{var C;if(!d)return Promise.resolve();if(fe(g,G)){const V=G.split("/").pop(),A=d.work.findIndex(P=>P._slug===V)>v?"up":"down",H=m.querySelectorAll('[data-rich-text="cta_component"]'),F=_.timeline();return F.add(_.effects.clipOut("#work-title",{direction:A}),0).add(_.effects.clipOut("#work-media-index",{direction:A}),0).add(_.effects.clipOut("#work-category",{direction:A}),0).add(_.effects.clipOut("#work-year",{direction:A}),0).add(_.effects.clipOut([(C=a.current)==null?void 0:C.lines],{direction:A}),0),H.length>0&&H.forEach(P=>{F.add(_.effects.clipOut(P,{direction:A}),0)}),Q(F)}const B=_.timeline().set(m,{pointerEvents:"none"}).to(h.current,{opacity:0,duration:1});return J(B,"work-outro"),Q(B)},{tag:"work-outro"}),d?s.jsxs("div",{className:W("fixed max-md:auto-rows-max overflow-y-auto overflow-x-clip isolate opacity-0 inset-0 z-works-slug grid-cols-4 grid md:grid-cols-12 gap-gap px-sides py-header",{"bg-overlay/[.96]":!o}),ref:h,children:[s.jsx(Kt,{className:"inset-sides top-header bottom-header md:absolute max-md:w-[152%] max-md:row-[2] max-md:col-[1/span_4]",ref:I,index:M,media:u.images.items,onIndexChange:L}),s.jsxs("div",{className:"relative flex flex-col gap-gap col-span-4 md:col-[2/span_5]",children:[s.jsxs("div",{className:"grid grid-cols-4 md:grid-cols-5 gap-gap col-[2/span_5] mt-em-[24] md:mt-em-[96]",children:[s.jsx("p",{id:"work-title-label",className:W(U.inferiBody,"lg:col-span-2"),children:"Title"}),s.jsx("div",{className:"col-span-3",children:s.jsx("p",{id:"work-title",className:W(U.inferiH3),children:u._title})})]}),s.jsxs("div",{className:"flex-1 grid grid-cols-4 md:grid-cols-5 gap-gap md:col-[2/span_5] mt-em-[24] md:mt-em-[144]",children:[s.jsxs("div",{className:"col-span-4 md:col-span-5 lg:col-span-2 grid grid-cols-4 md:grid-cols-5 lg:grid-cols-2 gap-x-gap self-start",children:[s.jsx("p",{className:W(U.inferiBody),children:"Category"}),s.jsx("div",{className:"max-lg:col-span-3",children:s.jsx("p",{id:"work-category",className:W(U.geistBody),children:u.category.map((m,g)=>s.jsxs(y.Fragment,{children:[s.jsxs("span",{className:"inline-block",children:[m,g<u.category.length-1&&", "]}),g<u.category.length-1&&s.jsx("br",{})]},m))})}),s.jsx("p",{className:W("row-[2]",U.inferiBody),children:"Year"}),s.jsx("div",{className:"row-[2] max-lg:col-span-3",children:s.jsx("p",{id:"work-year",className:W(U.geistBody),children:u.year})})]}),s.jsxs("div",{className:"max-lg:col-start-2 col-span-3",children:[s.jsx(we,{id:"work-description",className:"hidden md:block",blocks:u.description.json.blocks,content:u.description.json.content}),s.jsx("div",{className:"flex md:mt-em-[60]",children:s.jsx(Ue,{id:"work-media-index",className:W("flex items-center",U.geistBody),value:M+1,suffix:` / ${u.images.items.length}`})})]})]}),s.jsx("div",{className:"hidden basis-1/4 md:grid grid-cols-4 md:grid-cols-5 gap-gap my-auto",children:s.jsx("div",{className:"col-start-2 lg:col-start-3",children:s.jsx(Oe,{className:"place-self-start",onPrevious:()=>k(e==="all"),onNext:()=>l(e==="all"),hasNext:S,hasPrevious:$})})})]}),s.jsx("div",{className:"md:hidden row-[2] col-start-4 grid sticky top-0 bottom-0 z-10",children:s.jsx(Oe,{className:"place-self-end self-end",onPrevious:()=>k(e==="all"),onNext:()=>l(e==="all"),hasNext:S,hasPrevious:$})}),s.jsx("div",{className:"md:hidden col-[2/span_3] pt-em-[8] relative",children:s.jsx(we,{id:"work-description",className:"md:hidden",blocks:u.description.json.blocks,content:u.description.json.content})})]}):s.jsx(s.Fragment,{})}),pe=n=>n+"?id=full-view",je=1.3,Yt=n=>{const t=ge.c(22);let e,r,i,o;t[0]!==n?({width:o,height:r,children:e,...i}=n,t[0]=n,t[1]=e,t[2]=r,t[3]=i,t[4]=o):(e=t[1],r=t[2],i=t[3],o=t[4]);let c;t[5]!==r||t[6]!==o?(c={width:o,height:r},t[5]=r,t[6]=o,t[7]=c):c=t[7];const[a,h]=wt(c);let d,v;t[8]!==i?({style:v,...d}=i,t[8]=i,t[9]=d,t[10]=v):(d=t[9],v=t[10]);let u;t[11]!==v?(u={...v},t[11]=v,t[12]=u):u=t[12];let p;t[13]!==e||t[14]!==h.height||t[15]!==h.width?(p=e({width:h.width,height:h.height}),t[13]=e,t[14]=h.height,t[15]=h.width,t[16]=p):p=t[16];let w;return t[17]!==a||t[18]!==d||t[19]!==u||t[20]!==p?(w=s.jsx(a,{style:u,...d,children:p}),t[17]=a,t[18]=d,t[19]=u,t[20]=p,t[21]=w):w=t[21],w},Kt=y.forwardRef((n,t)=>{const e=ge.c(59),{index:r,media:i,onIndexChange:o,className:c}=n,a=se(Jt),h=y.useRef(0),d=y.useRef(null),v=y.useRef(null),u=y.useRef(null),[p,w]=y.useState(!1);let M,L;e[0]===Symbol.for("react.memo_cache_sentinel")?(M=()=>{var E;const b=(E=v.current)==null?void 0:E.querySelector("#initial-image");if(!b)return Promise.resolve();const f=_.timeline({defaults:{duration:1,ease:"dynamicGlide"}}).to(b,{"--clip-progress":"0%",duration:je,ease:"expo.inOut",onComplete:()=>{_.set(b,{clipPath:"none"})}},0);return J(f,"work-intro-image"),Q(f)},L={tag:"work-intro"},e[0]=M,e[1]=L):(M=e[0],L=e[1]),ee.useEntrance(M,L);let R,j;e[2]===Symbol.for("react.memo_cache_sentinel")?(R=(b,f,E)=>{if(fe(f,E)){const N=_.timeline().to(u.current,{opacity:0,duration:.8,ease:"expo.out"});return J(N,"work-outro-image"),Q(N)}},j={tag:"work-outro"},e[2]=R,e[3]=j):(R=e[2],j=e[3]),ee.useExit(R,j);let S,$;e[4]!==i?($=i.map(Qt),e[4]=i,e[5]=$):$=e[5],S=$;const I=S;let k;e[6]!==I?(k={urls:I},e[6]=I,e[7]=k):k=e[7];const{allImagesLoaded:l,imagesLoadTimemark:O}=ze(k),x=De("md");let z;e[8]!==l||e[9]!==O||e[10]!==x?(z=()=>{if(!l)return;const b=Ve(je*.6),f=d.current,E=v.current,N=x||f==null?void 0:f.querySelector('[data-index="1"]');if(!f||!E)return;const ie=[...x?f.children:Array.from(f.children).filter(We=>We!==N),...E.children].filter(Zt);_.set(ie,{opacity:1,xPercent:X});const de=Date.now()-O.current,Ae=Math.max(b-de,0),Pe=_.fromTo(["#initial-image img",x?void 0:f.children],{opacity:0,scale:1.05},{opacity:1,scale:1,duration:1,delay:He(Ae),onComplete:()=>{w(!0)},ease:"dynamicGlide"});J(Pe,"work-intro-image-black-out")},e[8]=l,e[9]=O,e[10]=x,e[11]=z):z=e[11];let m;e[12]!==l||e[13]!==x?(m={dependencies:[l,x]},e[12]=l,e[13]=x,e[14]=m):m=e[14],he(z,m);let g;e[15]!==l||e[16]!==r||e[17]!==x||e[18]!==i.length?(g=()=>{if(!l)return;const b=d.current,f=v.current;if(!b||!f)return;const E=r>h.current,N=h.current;if(h.current=r,N===r)return;const q=_.timeline({defaults:{duration:1.5,ease:"expo.out"}});N>=0&&q.to(f.querySelector(`[data-index="${N}"]`),{xPercent:E?-100.1:X},0),q.fromTo(f.querySelector(`[data-index="${r}"]`),{xPercent:E?X:-100.1},{xPercent:0},0),x?N>0&&q.to(b.querySelector(`[data-index="${N-1}"]`),{xPercent:E?-100.1:X},0):q.to(b.querySelector(`[data-index="${N+1}"]`),{xPercent:E?-100.1:X},0),x?r>0&&q.fromTo(b.querySelector(`[data-index="${r-1}"]`),{xPercent:E?X:-100.1},{xPercent:0},0):r<i.length-1&&q.fromTo(b.querySelector(`[data-index="${r+1}"]`),{xPercent:E?X:-100.1},{xPercent:0},0),J(q,"glide")},e[15]=l,e[16]=r,e[17]=x,e[18]=i.length,e[19]=g):g=e[19];let G;e[20]!==l||e[21]!==r||e[22]!==x?(G={dependencies:[r,l,x],revertOnUpdate:!1,scope:u},e[20]=l,e[21]=r,e[22]=x,e[23]=G):G=e[23],he(g,G);let B;e[24]!==r||e[25]!==i.length||e[26]!==o?(B=()=>({next:()=>{r<i.length-1&&o(r+1)},previous:()=>{r>0&&o(r-1)},goTo:b=>{b>=0&&b<i.length&&o(b)}}),e[24]=r,e[25]=i.length,e[26]=o,e[27]=B):B=e[27],y.useImperativeHandle(t,B);let C,V;e[28]!==i?(V=i.map(en),e[28]=i,e[29]=V):V=e[29],C=Math.min(...V);const T=C;let D;e[30]!==c?(D=W("grid grid-cols-2 gap-gap",c),e[30]=c,e[31]=D):D=e[31];let A;e[32]!==T?(A={"--aspect-ratio":T},e[32]=T,e[33]=A):A=e[33];const H=A;let F;if(e[34]!==i){let b;e[36]===Symbol.for("react.memo_cache_sentinel")?(b=(f,E)=>s.jsx(xe,{style:{opacity:0},className:"image-slide will-change-transform absolute top-0 w-full h-full object-contain object-right-top","data-index":E,src:pe(f.image.url),alt:f.image.alt??f.caption??"",width:f.image.width,height:f.image.height,sizes:"50vw",quality:100},f.image.url),e[36]=b):b=e[36],F=i.map(b),e[34]=i,e[35]=F}else F=e[35];let P;e[37]!==H||e[38]!==F?(P=s.jsx("div",{ref:d,style:H,className:"max-md:col-[2] row-[1] max-md:aspect-[var(--aspect-ratio)] w-full h-full relative overflow-clip opacity-30 md:opacity-5",children:F}),e[37]=H,e[38]=F,e[39]=P):P=e[39];let te;e[40]!==T?(te={"--aspect-ratio":T},e[40]=T,e[41]=te):te=e[41];const ce=te;let ne;e[42]===Symbol.for("react.memo_cache_sentinel")?(ne=W(U.geistBody,"w-full max-md:col-[1] max-md:aspect-[var(--aspect-ratio)] row-[1] h-full relative overflow-clip"),e[42]=ne):ne=e[42];let Y;if(e[43]!==l||e[44]!==a||e[45]!==p||e[46]!==i){let b;e[48]!==l||e[49]!==a||e[50]!==p?(b=(f,E)=>{const N=E===0;return s.jsx(Yt,{className:W("image-slide will-change-transform absolute top-0 w-full h-full object-contain object-right-top",{"h-[calc(100%-2em)]":!!f.caption}),width:f.image.width,height:f.image.height,id:N?"initial-image-wrapper":void 0,style:{opacity:N?1:0},"data-index":E,children:q=>{const{width:ie,height:de}=q;return s.jsxs("div",{children:[s.jsx("div",{id:N?"initial-image":void 0,style:{width:ie,height:de,clipPath:N?"inset(var(--clip-progress) 0 0 0)":void 0,"--clip-progress":N?"100%":void 0},className:W("ml-auto overflow-clip",{"bg-foreground":!p||a}),children:s.jsx(xe,{style:{opacity:l&&!a?1:0},className:"w-full h-full",src:pe(f.image.url),alt:f.image.alt??f.caption??"",width:f.image.width,height:f.image.height,sizes:"50vw",quality:100})}),f.caption?s.jsx("p",{style:{width:ie},className:W("ml-auto leading-none mt-em-[12/12]"),children:f.caption}):s.jsx(s.Fragment,{})]})}},f.image.url)},e[48]=l,e[49]=a,e[50]=p,e[51]=b):b=e[51],Y=i.map(b),e[43]=l,e[44]=a,e[45]=p,e[46]=i,e[47]=Y}else Y=e[47];let K;e[52]!==ce||e[53]!==Y?(K=s.jsx("div",{ref:v,style:ce,className:ne,children:Y}),e[52]=ce,e[53]=Y,e[54]=K):K=e[54];let re;return e[55]!==D||e[56]!==P||e[57]!==K?(re=s.jsxs("div",{ref:u,className:D,children:[P,K]}),e[55]=D,e[56]=P,e[57]=K,e[58]=re):re=e[58],re}),Oe=n=>{const t=ge.c(22),{onPrevious:e,onNext:r,className:i,hasNext:o,hasPrevious:c}=n,a=Te(),h=se(tn);let d;d=h==="featured"?"/":"/work";const v=d;let u,p;t[0]!==v||t[1]!==a?(u=()=>{const O=x=>{x.key==="Escape"&&a(v)};return window.addEventListener("keydown",O,{passive:!0}),()=>{window.removeEventListener("keydown",O)}},p=[a,v],t[0]=v,t[1]=a,t[2]=u,t[3]=p):(u=t[2],p=t[3]),y.useEffect(u,p);let w;t[4]!==i?(w=W("flex flex-col max-w-max gap-em-[6] text-foreground",i),t[4]=i,t[5]=w):w=t[5];const M=!e||!c;let L;t[6]===Symbol.for("react.memo_cache_sentinel")?(L=s.jsx(ye,{className:"size-em-[14]"}),t[6]=L):L=t[6];let R;t[7]!==e||t[8]!==M?(R=s.jsx("button",{className:"p-em-[12] touch-manipulation transition-opacity disabled:opacity-50 disabled:cursor-not-allowed",onClick:e,disabled:M,children:L}),t[7]=e,t[8]=M,t[9]=R):R=t[9];let j;t[10]===Symbol.for("react.memo_cache_sentinel")?(j=s.jsx(Je,{className:"size-em-[14]"}),t[10]=j):j=t[10];let S;t[11]!==v?(S=s.jsx(qe,{prefetch:"render",to:v,className:"p-em-[12] touch-manipulation",children:j}),t[11]=v,t[12]=S):S=t[12];const $=!r||!o;let I;t[13]===Symbol.for("react.memo_cache_sentinel")?(I=s.jsx(ye,{className:"size-em-[14] rotate-180"}),t[13]=I):I=t[13];let k;t[14]!==r||t[15]!==$?(k=s.jsx("button",{className:"p-em-[12] touch-manipulation transition-opacity disabled:opacity-50 disabled:cursor-not-allowed",onClick:r,disabled:$,children:I}),t[14]=r,t[15]=$,t[16]=k):k=t[16];let l;return t[17]!==k||t[18]!==w||t[19]!==R||t[20]!==S?(l=s.jsxs("div",{className:w,children:[R,S,k]}),t[17]=k,t[18]=w,t[19]=R,t[20]=S,t[21]=l):l=t[21],l};function Jt(n){return n.idle}function Qt(n){return pe(n.image.url)}function Zt(n){return n.id!=="initial-image-wrapper"}function en(n){return n.image.width/n.image.height}function tn(n){return n.workGridMode}export{gn as default,mn as links,pn as meta};
