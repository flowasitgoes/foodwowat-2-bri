var te=Object.create,W=Object.defineProperty,re=Object.getOwnPropertyDescriptor,B=Object.getOwnPropertyNames,ie=Object.getPrototypeOf,ne=Object.prototype.hasOwnProperty,F=(e,t)=>function(){return t||(0,e[B(e)[0]])((t={exports:{}}).exports,t),t.exports},se=(e,t,i,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of B(t))!ne.call(e,s)&&s!==i&&W(e,s,{get:()=>t[s],enumerable:!(n=re(t,s))||n.enumerable});return e},H=(e,t,i)=>(i=e!=null?te(ie(e)):{},se(W(i,"default",{value:e,enumerable:!0}),e)),oe=F({"node_modules/.pnpm/tiny-emitter@2.1.0/node_modules/tiny-emitter/index.js"(e,t){function i(){}i.prototype={on:function(n,s,h){var a=this.e||(this.e={});return(a[n]||(a[n]=[])).push({fn:s,ctx:h}),this},once:function(n,s,h){var a=this;function u(){a.off(n,u),s.apply(h,arguments)}return u._=s,this.on(n,u,h)},emit:function(n){var s=[].slice.call(arguments,1),h=((this.e||(this.e={}))[n]||[]).slice(),a=0,u=h.length;for(a;a<u;a++)h[a].fn.apply(h[a].ctx,s);return this},off:function(n,s){var h=this.e||(this.e={}),a=h[n],u=[];if(a&&s)for(var p=0,R=a.length;p<R;p++)a[p].fn!==s&&a[p].fn._!==s&&u.push(a[p]);return u.length?h[n]=u:delete h[n],this}},t.exports=i,t.exports.TinyEmitter=i}}),ae=F({"node_modules/.pnpm/lodash.throttle@4.1.1/node_modules/lodash.throttle/index.js"(e,t){var i="Expected a function",n=NaN,s="[object Symbol]",h=/^\s+|\s+$/g,a=/^[-+]0x[0-9a-f]+$/i,u=/^0b[01]+$/i,p=/^0o[0-7]+$/i,R=parseInt,z=typeof global=="object"&&global&&global.Object===Object&&global,k=typeof self=="object"&&self&&self.Object===Object&&self,D=z||k||Function("return this")(),K=Object.prototype,$=K.toString,q=Math.max,V=Math.min,S=function(){return D.Date.now()};function J(r,c,f){var l,g,E,y,d,b,w=0,C=!1,m=!1,T=!0;if(typeof r!="function")throw new TypeError(i);c=P(c)||0,_(f)&&(C=!!f.leading,m="maxWait"in f,E=m?q(P(f.maxWait)||0,c):E,T="trailing"in f?!!f.trailing:T);function I(o){var v=l,O=g;return l=g=void 0,w=o,y=r.apply(O,v),y}function Q(o){return w=o,d=setTimeout(x,c),C?I(o):y}function Y(o){var v=o-b,O=o-w,N=c-v;return m?V(N,E-O):N}function L(o){var v=o-b,O=o-w;return b===void 0||v>=c||v<0||m&&O>=E}function x(){var o=S();if(L(o))return A(o);d=setTimeout(x,Y(o))}function A(o){return d=void 0,T&&l?I(o):(l=g=void 0,y)}function Z(){d!==void 0&&clearTimeout(d),w=0,l=b=g=d=void 0}function ee(){return d===void 0?y:A(S())}function M(){var o=S(),v=L(o);if(l=arguments,g=this,b=o,v){if(d===void 0)return Q(b);if(m)return d=setTimeout(x,c),I(b)}return d===void 0&&(d=setTimeout(x,c)),y}return M.cancel=Z,M.flush=ee,M}function G(r,c,f){var l=!0,g=!0;if(typeof r!="function")throw new TypeError(i);return _(f)&&(l="leading"in f?!!f.leading:l,g="trailing"in f?!!f.trailing:g),J(r,c,{leading:l,maxWait:c,trailing:g})}function _(r){var c=typeof r;return!!r&&(c=="object"||c=="function")}function U(r){return!!r&&typeof r=="object"}function X(r){return typeof r=="symbol"||U(r)&&$.call(r)==s}function P(r){if(typeof r=="number")return r;if(X(r))return n;if(_(r)){var c=typeof r.valueOf=="function"?r.valueOf():r;r=_(c)?c+"":c}if(typeof r!="string")return r===0?r:+r;r=r.replace(h,"");var f=u.test(r);return f||p.test(r)?R(r.slice(2),f?2:8):a.test(r)?n:+r}t.exports=G}}),ce=H(oe()),fe=H(ae()),he=()=>typeof window<"u",j={REFRESH:"refresh",OBSERVE:"observe"},ue=class extends ce.TinyEmitter{constructor(){super(),this.cache=new Map,this.observers=new Map,this.listenerAttached=!1,this.cache=new Map,this._handleResize=(0,fe.default)(()=>this.refresh(),100),he()&&this.attachListener()}get windowSize(){return this.get(window)}get(e){let t=this.cache.get(e);return t||(e instanceof Window?t=new DOMRect(0,0,window.innerWidth,window.innerHeight):(t=e.getBoundingClientRect(),this.cache.set(e,t))),t}dispose(e){this.cache.delete(e)}refresh(e){e?(this.cache.set(e,e.getBoundingClientRect()),this.emit(j.REFRESH,{target:e,rect:this.get(e),metri:this})):(this.cache.set(window,new DOMRect(0,0,window.innerWidth,window.innerHeight)),this.emit(j.REFRESH,{target:window,rect:this.get(window),metri:this}),this.cache.forEach((t,i)=>{i instanceof Window||(this.cache.set(i,i.getBoundingClientRect()),this.emit(j.REFRESH,{target:i,rect:this.get(i),metri:this}))}))}attachListener(){this.listenerAttached||(window.addEventListener("resize",this._handleResize,{passive:!0}),this.listenerAttached=!0)}detachListener(){this.listenerAttached&&(window.removeEventListener("resize",this._handleResize),this.listenerAttached=!1)}getConfigKey(e){const{root:t,rootMargin:i,threshold:n}=e;return JSON.stringify({root:t||null,rootMargin:i||"0px",threshold:n||0})}getIntersectionObserver(e,t){const i=this.getConfigKey(e);if(this.observers.has(i))return this.observers.get(i);const n=new IntersectionObserver(t,e);return this.observers.set(i,n),n}observe(e,t){const i=this.getIntersectionObserver(t,n=>{n.forEach(s=>{this.emit(j.OBSERVE,{target:s.target,visible:s.isIntersecting,entry:s,metri:this})})});return i.observe(e),i}unobserve(e){this.observers.forEach(t=>t.unobserve(e))}disposeIntersectionObserver(e){const t=this.getConfigKey(e),i=this.observers.get(t);i&&(i.disconnect(),this.observers.delete(t))}disposeAll(){this.observers.forEach(e=>e.disconnect()),this.observers.clear(),this.cache.clear(),this.detachListener()}},de=new ue,le=de;export{de as d,le as m};
